<!DOCTYPE HTML>
<!--
	Spectral by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Firmware</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="shortcut icon" href="favicon.ico" type='image/x-icon'/  />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>
	<body>

		<!-- Page Wrapper -->
			<div id="page-wrapper">
				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">GardenAI</a></h1>
						<nav id="nav">
							<ul>
								<li class="special">
									<a href="#menu" class="menuToggle"><span>Menu</span></a>
									<div id="menu">
										<ul>
											<li><a href="index.html">Home</a></li>
											<li><a href="final.html">Final Product</a></li>
											<li><a href="mechanical.html">Mechanical</a></li>
											<li><a href="electrical.html">Electrical</a></li>
											<li><a href="firmware.html">Firmware</a></li>
											<li><a href="software.html">Software</a></li>
											<li><a href="financial.html">Financial</a></li>
											<li><a href="howto.html">How To</a></li>
											<li><a href="about.html">About Us</a></li>
											<li><a href="resources.html">Resources</a></li>
											<li><a href="gallery.html">Gallery</a></li>
										</ul>
									</div>
								</li>
							</ul>
						</nav>
					</header>

				<!-- Main -->
					<article id="main">
						<header class="firmware">
							<h2>Firmware</h2>
							<h2><span class="icon fa-bolt"><span class="label">Firmware</span></span></h2>
						</header>
						<section class="wrapper style5">
							<div class="inner">

								<p style="text-align: center; font-size: 1.5em; line-height: 2.5em;">We controlled our system using an <strong style="text-transform: uppercase; color: #6F6F7E; font-weight: 600;">Arduino Uno R3 microcontroller</strong>.The microcontroller takes in <strong style="text-transform: uppercase; color: #6F6F7E; font-weight: 600;">sensor input</strong> and controls a series of <strong style="text-transform: uppercase; color: #6F6F7E; font-weight: 600;">individually adressable LEDs</strong> and <strong style="text-transform: uppercase; color: #6F6F7E; font-weight: 600;">a water pump</strong> based on the sensor values. </p>

								<h3>Arduino Control</h3>
						
								<P> <span> <span class="image right" style="max-width: 30%"><img src="images/overallCircuit.jpg" alt=""/></span> The microcontroller was connected to an AdaFruit motor shield because of the amount of current drawn by our individually addressable LEDs. (The current from the LEDs is enough to blow out an arduino, or more. Don't make our mistakes.) </P>

								<p> Through the motor controller, we connected our sensors to analog pins, which we ran as input. The program took the sensor input and evaluated how the system, the lights and irrigation system, should respond given the input. </p>

								<p> Because we had 8 sensor pins, we needed more analog inputs than just one Arduino Uno could offer us. We used use the <a target="_blank" href="https://www.arduino.cc/en/Reference/Wire">Wire library</a> from Arduino. The Wire library uses I2C communication between two Arduinos by attaching their respective A4 and A5 ports as well as ground and connecting the master Arduino's power to the recievers Vin.</p></span>

								<h5> Water Control and Reciever Control </h5>
								<span class="image left" style="max-width: 23%"><img src="images/pump.jpg" alt=""/></span>
								<p>The reciever code can be found in <a href="https://github.com/aditisjoshi/dankherb/blob/master/receiver_control/receiver_control.ino" target="_blank">reciever_control.ino</a>. This code controls everything for the water part of the system. It consists of an Arduino and an Adafruit motor shield. The motor shield controls the pump, using the Adafruit Motorshield library, by initalizing it as a motor. It creates the pump as a motor and if it is to turn on it sets the speed equal to 200 (this was a value calibrated from testing and would probably have to change depending on the pump used). If the average of the four sensor values is below a certain threshold, the pump turns off and the the pump/motor speed is set to 0. </p>

								<p>This code also recieves control from the writer and then prints the 8 different sensor values (the 4 soil sensors and the 4 light sensors) to the serial monitor which the <a href="software.html" target="_">Python GUI</a> code then reads to give the user the information.</p>

								<h5> Light Control and Writer Control </h5>
								<span class="image left" style="max-width: 23%"><img src="images/lights.jpg" alt=""/></span>
								<p> The writer code can be found in <a href="https://github.com/aditisjoshi/dankherb/blob/master/writer_control/writer_control.ino" target="_blank">writer_control.ino</a>. This code controls everything for the light part of the system. The lights that we are using are individually adressable leds from Adafruit Neopixels. In order to control these we use the the <a href="https://learn.adafruit.com/adafruit-neopixel-uberguide/arduino-library" target="_">Neopixel library</a>. </p>

								<p>We use the Daily Light Integral (DLI) to measure the amount of light plants have received in a day and determine if they need more. To learn more about DLI, you can look at the resources offered <a href="resources.html" target="_blank">here</a>. The program also writes to the reciever using the Wire library. </p>

							</div>
						</section>
					</article>


				<!-- Footer -->
					<footer id="footer">
						<ul class="icons">
							<li><a href="mechanical.html" class="icon fa-cogs"><span class="label">Mechanical</span></a></li>
							<li><a href="electrical.html" class="icon fa-battery-three-quarters"><span class="label">Electrical</span></a></li>
							<li><a href="firmware.html" class="icon fa-bolt"><span class="label">Firmware</span></a></li>
							<li><a href="software.html" class="icon fa-code"><span class="label">Software</span></a></li>
							<li><a href="financial.html" class="icon fa-money"><span class="label">Financial</span></a></li>
							<li><a href="howto.html" class="icon fa-question-circle"><span class="label">How To</span></a></li>
							<li><a href="about.html" class="icon fa-heart"><span class="label">About us</span></a></li>
							<li><a href="gallery.html" class="icon fa-camera"><span class="label">Gallery</span></a></li>
							<li><a href="resources.html" class="icon fa-link"><span class="label">Resources</span></a></li>
							<li><a href="https://github.com/aditisjoshi/dankherb" class="icon fa-github"><span class="label">Git Hub</span></a></li>
						</ul>
						<ul class="copyright">
							<li>&copy; Garden.ai</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>